# ðŸ”„ ODOO RESTART PROTOCOL

## MANDATORY PRE-RESTART CHECKLIST

### âœ… **1. COMPLETE CODE REVIEW** (NEVER SKIP!)

#### Directory Structure Validation:
```bash
# Check all directories exist and are consistent
- models/ â†’ __init__.py imports check
- views/ â†’ manifest data files check  
- wizard/ â†’ __init__.py imports check
- security/ â†’ active models only
```

#### Dead Code Detection:
```bash
# Files that exist but aren't imported = REMOVE
find . -name "*.py" | grep -v __pycache__ | sort
grep "from . import" */\__init__.py
```

#### Consistency Matrix:
- [ ] Models in `models/__init__.py` = Files in `models/`
- [ ] Views in `__manifest__.py` = Files in `views/`
- [ ] Security rules = Active models only
- [ ] Actions â†’ Views â†’ Models = All connected correctly

### âœ… **2. MANDATORY LOG ENTRY**

**Template:**
```bash
./log.sh "PRE-RESTART: [CHANGE_SUMMARY] | Review: COMPLETE | Models: X | Views: X | Status: READY"
```

**Example:**
```bash
./log.sh "PRE-RESTART: Fixed Smart Import CSV parsing + removed 5 dead code files | Review: COMPLETE | Models: 3 | Views: 4 | Status: READY"
```

### âœ… **3. RESTART METHOD**

**ONLY USE HANDBOOK METHOD:**
```bash
cd /c/Users/Sybde/Projects/odoo-dev && ./restart-odoo.sh
```

**NEVER USE:**
- Direct python commands
- Manual kill/start processes
- Other restart methods

## ðŸš¨ **VIOLATION CONSEQUENCES**

If restart is attempted WITHOUT complete review:
1. **STOP** immediately
2. **Perform** full code review  
3. **Document** all findings
4. **Clean** any issues found
5. **Log** the review results
6. **THEN** restart via handbook method

## ðŸ“Š **REVIEW TRACKING**

Each review should document:
- **Timestamp**: Auto-generated by log.sh
- **Git State**: Current branch + commit ID
- **File Counts**: Models, Views, Security rules
- **Issues Found**: Dead code, inconsistencies
- **Resolution**: What was fixed/removed
- **Status**: READY/NOT READY for restart

## ðŸ’¡ **WHY THIS PROTOCOL?**

Previous issues caused by incomplete reviews:
- Dead code conflicts
- Wrong wizard routing  
- Security rule errors
- Import inconsistencies
- Manifest/file mismatches

**Prevention is better than debugging!**